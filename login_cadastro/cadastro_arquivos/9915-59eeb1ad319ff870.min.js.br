"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="95efe565-9158-5db6-8b19-8ed94de8b5f2")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[9915],{70080:(e,t,a)=>{a.d(t,{Ai:()=>A,DA:()=>I,E_:()=>C,Gp:()=>T,HP:()=>d,IE:()=>k,MZ:()=>s,N1:()=>E,Nk:()=>y,OX:()=>x,SY:()=>m,Si:()=>b,Wv:()=>g,XE:()=>h,ZA:()=>o,Zp:()=>n,cm:()=>S,gG:()=>p,gK:()=>w,hQ:()=>i,kG:()=>M,kL:()=>l,mL:()=>R,mY:()=>r,op:()=>c,pT:()=>_,q4:()=>f,qd:()=>v,qy:()=>N,tL:()=>u,ty:()=>O});let o="feed_post_detail_modal--detailModal--MMYKj",n="feed_post_detail_modal--layout--b28Tm",l="feed_post_detail_modal--container--PkjxH",i="feed_post_detail_modal--contentContainer--HvXHM",s="feed_post_detail_modal--contentContainerFull--Y-lEo feed_post_detail_modal--contentContainer--HvXHM",d="feed_post_detail_modal--rightSideContainer--n9eWy",m="feed_post_detail_modal--sidebarCollapsed--JYqsn feed_post_detail_modal--contentOverlayPill--1jsoj",c="feed_post_detail_modal--infoContainer--r-tGh",r="feed_post_detail_modal--topRow--Rs14r",_="feed_post_detail_modal--postTitle--dZdnT feed_tile--postTitle--DY-Hh",u="feed_post_detail_modal--postDescription--9xUac",p="feed_post_detail_modal--postDescriptionMessage--vHcLD comment_message--commentMessage--kZCzD",h="feed_post_detail_modal--fileInfo--IsxWn",f="feed_post_detail_modal--detailsFileButtonName--kqizR",g="feed_post_detail_modal--detailsFileButtonIcon--wfORW",C="feed_post_detail_modal--bottomRow--ycO1b",E="feed_post_detail_modal--headerContainer--oByFt",v="feed_post_detail_modal--headerTitle--SJpLy",k="feed_post_detail_modal--headerRight--VNHRM",T="feed_post_detail_modal--headerSvg--9mFA0",b="feed_post_detail_modal--headerContextMenu--0idb0",y="feed_post_detail_modal--closeX--NwlcU",M="feed_post_detail_modal--composerContainer--bIZJV",w="feed_post_detail_modal--composerAvatar--4cjv3",I="feed_post_detail_modal--composer--A7iTJ thread_comment_composer--inputSectionWrapper--Bxyab",x="feed_post_detail_modal--editableTypeahead--4ZMRF thread_comment_composer--editableTypeahead--9R6Yd text--fontPos13--xW8hS text--_fontBase--QdLsd",O="feed_post_detail_modal--commentSection--2SXbE",N="feed_post_detail_modal--commentSectionScroll--yFbDD",A="feed_post_detail_modal--existingComments--1ORWZ",R="feed_post_detail_modal--arrowDown--XpvZj",S="feed_post_detail_modal--commentsToast--nTd74"},114292:(e,t,a)=>{a.d(t,{$S:()=>l,D5:()=>s,HL:()=>o,KD:()=>n,Qi:()=>i});let o="feed_reactions_section--reactionPill--qE8nJ reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",n="feed_reactions_section--reactionList---Yu5e",l="feed_reactions_section--addReactionButton--0D-O4",i="feed_reactions_section--addReactionButtonSelected--OU1gq",s="feed_reactions_section--addReactionButtonOnly--9t-4W"},785080:(e,t,a)=>{a.d(t,{J:()=>i,k:()=>s});var o=a(881388),n=a(939863),l=a(980820);let i=(0,l.nF)((e,t)=>{let{receiptsAPI:a,comment:l}=t;a.markAsUnread(l.uuid).catch(t=>{let a=(0,n.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_unread");try{t=JSON.parse(t),e.dispatch(o.s.error((0,n.Jv)(t,a)))}catch(t){e.dispatch(o.s.error(a))}})}),s=(0,l.nF)((e,t)=>{let{receiptsAPI:a,thread:l}=t,i=l.comments.map(e=>e.uuid).filter(e=>!!e);a.markAsRead(i).catch(t=>{let a=(0,n.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_read");try{t=JSON.parse(t),e.dispatch(o.s.error((0,n.Jv)(t,a)))}catch(t){e.dispatch(o.s.error(a))}})})},493571:(e,t,a)=>{a.d(t,{w:()=>l});var o=a(314866),n=a(860178);function l({rolesToDefaultToOther:e}={}){let t=n.iZ()?.profile.job_title,a=(0,o.HB)(t);return e&&e.includes(a)?"other":a}},965837:(e,t,a)=>{a.d(t,{h:()=>s});var o=a(411855),n=a(939863),l=a(237870),i=a(474742);let s=(0,l.Ju)(function(e){return o.createElement(i.Rw,{destructive:!0,confirmationTitle:"Delete comment",confirmText:"Delete",onConfirm:e.onConfirm,popStack:e.popStack},o.createElement("p",null,(0,n.tx)("comments.are_you_sure_you_want_to_delete_this_comment_this_action_cannot_be_undone")))},"CommentConfirmDeleteModal")},421422:(e,t,a)=>{a.d(t,{Q:()=>i,X:()=>n});var o=a(268223);let n="feed_post_detail_modal_opened",l=(0,o.Op)({initial:"await_open_feed_post_detail_modal",states:[{id:"await_open_feed_post_detail_modal",transitions:[(0,o.nr)(n,"complete")]},{id:"complete",terminal:!0}]}),i=(0,o.rn)("open_feed_post_detail_modal",l)},727236:(e,t,a)=>{a.d(t,{O:()=>T,b:()=>b});var o=a(411855),n=a(638889),l=a(939863),i=a(456104),s=a(835691),d=a(309798),m=a(397065),c=a(218997),r=a(799569),_=a(946689),u=a(672517),p=a(15839),h=a(485861),f=a(275596),g=a(630834),C=a(304516);function E(e){let t=o.useRef(null),[a,n]=o.useState({width:0,height:0});o.useLayoutEffect(()=>{if(t.current){let e=t.current.getBoundingClientRect();n({width:e.width,height:e.height})}},[n]);let l=e.width,i=e.backgroundColor,s="light"===e.background,d=(0,h.xT)(e.targetKey)||document.documentElement;if(!d)return null;let m=o.createElement(r.Jn,{useOriginalSrcFills_DEPRECATED:!0,className:f._S,onClick:e.dismissModal,innerText:"close",svg:s?g.default:C.A}),c=o.createElement("div",null,e.ctaText&&e.onClickPrimaryCta&&o.createElement("div",{className:f.ZA},e.bottomLeftText&&o.createElement("b",null,e.bottomLeftText),o.createElement("div",{className:f.OQ},e.secondaryCtaText&&e.onClickSecondaryCta&&o.createElement(u.$z,{className:s?f.jS:f.dC,onClick:e.onClickSecondaryCta,"aria-hidden":!0},e.secondaryCtaText),e.ctaText&&e.onClickPrimaryCta&&o.createElement(_.vd,{className:s?f.TI:f.ZO,onClick:e.onClickPrimaryCta,trackingProperties:e.buttonContext?{buttonContext:e.buttonContext}:void 0},e.ctaText)))),E=function(e,t,a,o,n){let l=n??0;switch(o){case p.LN.BOTTOM_LEFT:return{top:e.bottom-(a+l),left:e.left+l};case p.LN.BOTTOM_RIGHT:return{top:e.bottom-(a+l),left:e.right-(t+l)};case p.LN.TOP_RIGHT:return{top:e.top+l,left:e.right-(t+l)};case p.LN.CENTER:return{top:e.top+(e.height-a)/2,left:e.left+(e.width-t)/2};default:return{top:e.top+l,left:e.left+l}}}(d.getBoundingClientRect(),a.width,a.height,e.modalLocation,e.positionOffset);return o.createElement("div",{className:s?f.IL:f.wV,ref:t,style:{backgroundColor:i,width:l,...E}},o.createElement("div",null,o.createElement("h1",null,e.title),e.children,m),c)}var v=a(463546),k=a(421422);let T="feed-post-detail-modal";function b(){let e=(0,i.e)({overlay:v.bIZ,priority:m.N.DEFAULT_MODAL}),t=(0,s.zl)(k.Q),a=o.useMemo(()=>(0,l.tx)("rcs.feed_onboarding.zoom_pan.title"),[]),r=!!(0,d.f)("has_seen_feed_post_details_zoom_pan_nudge");(0,o.useEffect)(()=>{!r&&t.completed&&e.show()},[e,r,t]);let _=(0,o.useMemo)(()=>o.createElement(n.S,{shortcut:"\u2318\xb1"}),[]),u=(0,o.useMemo)(()=>o.createElement(n.S,{shortcut:"Ctrl\xb1"}),[]);return o.createElement(c.h,{modalType:p.q3.SELF_CONTAINED,element:(0,o.useCallback)(e=>o.createElement(E,{targetKey:T,dismissModal:e.dismissModal,title:a,ctaText:(0,l.t)("rcs.got_it"),onClickPrimaryCta:e.onClickPrimaryCta,width:268,modalLocation:p.LN.BOTTOM_LEFT,positionOffset:16},o.createElement("p",null,(0,l.tx)("rcs.feed_onboarding.zoom_pan.content",{macKeyboardShortcut:_,windowsKeyboardShortcut:u}))),[a,_,u]),trackingContextName:"Feed Post Details View Zoom Pan Nudge",isShowing:e.isShowing,onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete,userFlagOnShow:"has_seen_feed_post_details_zoom_pan_nudge"})}},360163:(e,t,a)=>{a.d(t,{K:()=>E,R:()=>v});var o=a(411855),n=a(188507),l=a(358145),i=a(268537),s=a(939863),d=a(785080),m=a(975350),c=a(738269),r=a(662275),_=a(309249),u=a(103907),p=a(335682),h=a(860178),f=a(440535),g=a(965837),C=a(298543);let E=e=>`COMMENT_SIDEBAR_OVERFLOW_DROPDOWN-${e}`;function v(e){let{thread:t,targetRect:a,isUnread:E,copyLink:v,onDeleteThread:k}=e,{commentReceipts:T}=(0,u.I_)(),b=(0,_.fr)(),y=(0,n.wA)(),M=(0,p.tS)(),w=(0,h.TA)(),I=(0,l.ZC)(a),x=o.useCallback(()=>{y(c.oB())},[y]);o.useEffect(()=>{I&&(a.top!==I.top||a.left!==I.left)&&x()},[a,I,x]);let O=o.useCallback(()=>{T&&(E?y(m.AY({receiptsAPI:T,thread:t})):y(m.QY({receiptsAPI:T,comment:t.comments[0]})))},[T,y,E,t]),N=o.useCallback(()=>{b&&(E?y(d.k({receiptsAPI:b,thread:t})):y(d.J({receiptsAPI:b,comment:t.comments[0]})))},[b,y,E,t]),A=o.useCallback(()=>{v(t.comments[0])},[v,t]),R=o.useCallback(()=>{let e=k?()=>k(t):()=>y(m.Mv({comment:t.comments[0]}));y((0,r.to)({type:g.h,data:{onConfirm:e}}))},[y,k,t]),S=o.useMemo(()=>{if(w===t.comments[0].user_id&&!t.isCanvasMention&&(0,f.m)(t.sidebarItemType))return o.createElement(i.c$,{onClick:R},(0,s.tx)("comments.delete_thread"))},[t,w,R]),D=o.useMemo(()=>{let e=[];return b&&M&&t.isCanvasMention?e.push(o.createElement(i.c$,{onClick:N},E?(0,s.tx)("comments.mark_as_read"):(0,s.tx)("comments.mark_as_unread"))):T&&M&&!t.isCanvasMention&&(0,f.m)(t.sidebarItemType)&&e.push(o.createElement(i.c$,{onClick:O},E?(0,s.tx)("comments.mark_as_read"):(0,s.tx)("comments.mark_as_unread"))),e.push(o.createElement(i.c$,{onClick:A},(0,s.tx)("comments.copy_link"))),S&&e.push(S),e},[T,b,M,A,S,t.isCanvasMention,t.sidebarItemType,N,O,E]);return o.createElement(C.Jz,{showPoint:!0,targetRect:a,minWidth:160,options:D,hideDropdown:x,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!0,propagateCloseClick:!0})}},697338:(e,t,a)=>{a.d(t,{Pp:()=>s});var o=a(411855),n=a(154254),l=a(63666),i=a(936181);function s(e){return o.createElement(o.Fragment,null,e.calloutTargetKey&&o.createElement(i.x,{target:e.calloutTargetKey,isBrandColor:!0}),o.createElement(l.CR,{arrowPosition:e.arrowPosition,targetKey:e.pointerTargetKey,width:e.width-2*l.uv,shouldDismissWhenLostDOMTarget:!0,dismissModal:e.dismissModal,disableClickOutsideToHide:e.disableClickOutsideToHide,className:"instructional_walk_through_modal--modal--B0i2r pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",shouldCenterArrow:e.shouldCenterArrow},o.createElement("div",null,o.createElement("div",{className:n.cx.flex.gap8.mb8.itemsCenter.flexWrap.$},o.createElement("h1",null,e.title),e.badge),e.subtitle&&(e.instructions?.length?o.createElement("h2",null,e.subtitle):o.createElement("p",null,e.subtitle)),e.instructions?.length&&o.createElement(d,{instructions:e.instructions}))))}function d(e){return 0===e.instructions.length?null:o.createElement("div",{className:"instructional_walk_through_modal--instructionBox--RCbF8","data-testid":"instructionalWalkThroughModalInstructionBox"},e.instructions.map((e,t)=>o.createElement(m,{instruction:e,instructionNumber:t+1,key:t})))}function m(e){return o.createElement("div",{className:"instructional_walk_through_modal--instruction--TghvO","data-testid":"instructionalWalkThroughModalInstruction"},o.createElement("div",{className:"instructional_walk_through_modal--instructionNumber--Qy7Hu"},e.instructionNumber),o.createElement("p",null,e.instruction))}},665061:(e,t,a)=>{a.d(t,{V:()=>c});var o=a(411855),n=a(939863),l=a(896474),i=a(318812),s=a(498606),d=a(298543),m=a(227795);function c(e){let t=(0,i.BK)(e.dropdownId),a=o.useRef(null),c=o.useRef(null);if(o.useEffect(()=>{t.showing&&c.current&&c.current.focus()},[t.showing]),e.hideTarget&&!t.showing)return null;let r=e.children;return r||(r=o.createElement(m.YW,{style:t.showing?{backgroundColor:"var(--color-bg-hover, var(--fallback-color-bg-hover))"}:void 0,selected:t.showing,"data-tooltip-type":s.Ib.TEXT,"data-tooltip":(0,n.t)("fig_feed.more_actions"),onClick:e=>{e.stopPropagation(),t.toggle()}},o.createElement(l.In,{icon:"dots-32"}))),o.createElement("div",null,o.createElement("div",{ref:a,onMouseDown:e=>e.stopPropagation()},r),a.current&&t.showing&&o.createElement(d.Jz,{showPoint:!1,targetRect:a.current.getBoundingClientRect(),options:e.options,closeDropdown:t.hide,hideDropdown:t.hide,lean:e.lean,minWidth:e.minWidth,maxHeight:e.maxHeight,maxWidth:e.maxWidth,textAlign:e.textAlign,displayAboveTarget:e.displayAboveTarget,displayOverTarget:e.displayOverTarget,propagateCloseClick:!0}))}},47026:(e,t,a)=>{a.d(t,{i:()=>k});var o=a(411855),n=a(188507),l=a(988652),i=a(503457),s=a(268537),d=a(939863),m=a(67294),c=a(975350),r=a(662275),_=a(569172),u=a(965837),p=a(30990),h=a(400333),f=a(360163),g=a(665061),C=a(339617),E=a(531398),v=a(385121);function k(e){let t=(0,n.wA)(),[a,s]=(0,l.M)(),[d,r]=o.useState([]);o.useEffect(()=>{r(e.messageMeta)},[e.messageMeta]);let[u,f]=o.useState(!1),g=(0,n.d4)(e=>e.comments.editingComment),k=o.useCallback(a=>{t(c.uy({id:e.commentId,key:e.commentUuid,attachmentId:a.id,attachment:a}))},[t,e.commentId,e.commentUuid]),b=o.useCallback(a=>(t(c.uy({id:e.commentId,key:e.commentUuid,attachmentId:a,attachment:null})),Promise.resolve()),[e.commentId,e.commentUuid,t]),y=o.useCallback(()=>{t(_.cx({commentId:e.commentId,uuid:e.commentUuid,messageMeta:d,attachmentUpdates:g?.attachmentUpdates})),t(c.cL()),f(!1)},[t,g,e.commentId,e.commentUuid,d]),M=o.useCallback(()=>{let a={};e.attachments?.forEach(e=>{a[e.id]=e}),t(c.Df({id:e.commentId,key:e.commentUuid,messageMeta:e.messageMeta,attachmentUpdates:{deleted:[],attachments:a}})),f(!0)},[t,e.commentId,e.commentUuid,e.messageMeta,e.attachments]),w=o.useCallback(()=>{r(e.messageMeta),t(c.pD()),f(!1)},[t,e.messageMeta]),I=e.commentUser.id===e.user.id,x=e.commentId.startsWith(_.v6),O=e.reactions.length>0;return o.createElement("div",{className:"feed_post_details_comments--comment--ScdJc",ref:a},o.createElement("div",{className:"feed_post_details_comments--avatarColumn--13o7f"},o.createElement(C.A,{user:e.commentUser,noHandle:!0,size:m.Pf.MEDIUM})),o.createElement("div",{className:"feed_post_details_comments--commentBody--tIA5q"},o.createElement("div",{className:"feed_post_details_comments--commentHeader--vzA-X"},o.createElement(C.B,{user:e.commentUser,date:e.createdAt,noAvatar:!0,shortDate:!0}),!u&&I&&o.createElement(T,{commentId:e.commentId,commentUuid:e.commentUuid,user:e.user,onEdit:M,hideTarget:!s})),u?o.createElement("div",{className:"feed_post_details_comments--editComposerContainer--ePn76"},o.createElement(v.o,{fallback:i.H4.NONE,errorFallback:i.H4.NONE,user:e.user,currentOrgId:e.currentOrgId,autofocus:!0,onSubmit:y,hideSubmitButton:!1,mentionables:e.mentionables,composerContainerClass:"feed_post_details_comments--composer--5EDPO thread_comment_composer--inputSectionWrapper--Bxyab",editableTypeaheadClass:"feed_post_details_comments--editableTypeahead--kMhTQ thread_comment_composer--editableTypeahead--9R6Yd text--fontPos13--xW8hS text--_fontBase--QdLsd",messageContent:d,updateMessage:r,editingExistingComment:!0,onCancel:w,updateAttachment:k,deleteAttachment:b,attachments:g?.attachmentUpdates?.attachments?Object.values(g?.attachmentUpdates?.attachments):[]})):o.createElement(o.Fragment,null,o.createElement("div",{className:"feed_post_details_comments--commentRow--c2So7"},o.createElement(h.HH,{messageMeta:d,commentId:e.commentId,className:"feed_post_details_comments--commentMessage--lHCM2"}),!x&&!O&&o.createElement(E.nn,{type:E.Us.ADD_ONLY,source:E.zY.DETAIL_COMMENT_NO_REACTION,feedReactions:e.reactions,commentId:e.commentId,commentUuid:e.commentUuid,hideAddReactionButton:!s})),e.attachments&&o.createElement("div",{className:"feed_post_details_comments--attachmentsContainer--M-F-r"},o.createElement(p.a,{attachments:e.attachments,canEdit:I,fileKey:""})),O&&o.createElement(E.nn,{type:E.Us.FULL,source:E.zY.DETAIL_COMMENT_WITH_REACTION,feedReactions:e.reactions,commentId:e.commentId,commentUuid:e.commentUuid,hideAddReactionButton:!s}))))}function T(e){let t=(0,n.wA)(),a=o.useCallback(()=>{t((0,r.to)({type:u.h,data:{onConfirm:()=>{t(_.BC({commentId:e.commentId,uuid:e.commentUuid}))},popStack:!0},showModalsBeneath:!0}))},[t,e.commentId,e.commentUuid]),{onEdit:l}=e,i=o.useMemo(()=>[o.createElement(s.c$,{onClick:l,key:"edit"},(0,d.tx)("comments.edit")),o.createElement(s.c$,{onClick:a,key:"delete"},(0,d.tx)("comments.delete_comment"))],[a,l]);return e.commentId.startsWith(_.v6)?null:o.createElement(g.V,{hideTarget:e.hideTarget,dropdownId:(0,f.K)(e.commentId),options:i,lean:"left"})}},385121:(e,t,a)=>{a.d(t,{o:()=>o});let o=(0,a(503457).kf)("lazy_feed_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(2026),a.e(3630),a.e(8410)]).then(a.bind(a,583630))).FeedPostCommentComposer})})},941670:(e,t,a)=>{a.d(t,{p:()=>n});var o=a(263159);let n=(0,a(411855).memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.146 6.146a.5.5 0 0 1 .708.708L14.707 10H17.5a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 1 0v2.793zM6.854 17.854a.5.5 0 0 1-.708-.708L9.293 14H6.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0v-2.793z",clipRule:"evenodd"})})})}}]);

//# debugId=95efe565-9158-5db6-8b19-8ed94de8b5f2

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/812a56e8dd34c01d402b5ce32aa5bacc8f7a190d/9915-59eeb1ad319ff870.min.js.map